{% extends "base.html" %}

{% block title %}{{ course.name }} - 教学质量调查{% endblock %}

{% block content %}
<div class="row justify-content-center">
    <div class="col-lg-8">
        <div class="card shadow">
            <div class="card-header bg-primary text-white">
                <h2 class="mb-0">
                    <i class="fas fa-clipboard-list me-2"></i>
                    教学质量评价表
                </h2>
            </div>
            <div class="card-body">
                <div class="course-info mb-4 p-3 bg-light rounded border">
                    <div class="d-flex align-items-center">
                        <span class="badge bg-primary fs-6 rounded-circle p-2 me-3">{{ course.id }}</span>
                        <div class="flex-grow-1">
                            <h4 class="text-primary mb-1">{{ course.name }}</h4>
                            <div class="instructor-highlight d-flex align-items-center">
                                <i class="fas fa-user-tie text-primary me-2"></i>
                                <span class="text-muted me-2">讲课人：</span>
                                <strong class="fs-5 text-dark">{{ course.instructor }}</strong>
                            </div>
                        </div>
                    </div>
                </div>

                <form method="POST" action="{{ url_for('submit_survey') }}" id="surveyForm">
                    <input type="hidden" name="course_id" value="{{ course.id }}">

                    <!-- 问题1 -->
                    <div class="question-group mb-4">
                        <h5 class="question-title">
                            1. 你认为授课内容是否精心准备？（选择一项打 ✓）
                        </h5>
                        <div class="row g-2">
                            <div class="col-6 col-md-3">
                                <div class="form-check option-card">
                                    <input class="form-check-input" type="radio" name="content_preparation"
                                           id="prep1" value="准备充分" checked>
                                    <label class="form-check-label w-100" for="prep1">准备充分</label>
                                </div>
                            </div>
                            <div class="col-6 col-md-3">
                                <div class="form-check option-card">
                                    <input class="form-check-input" type="radio" name="content_preparation"
                                           id="prep2" value="比较充分">
                                    <label class="form-check-label w-100" for="prep2">比较充分</label>
                                </div>
                            </div>
                            <div class="col-6 col-md-3">
                                <div class="form-check option-card">
                                    <input class="form-check-input" type="radio" name="content_preparation"
                                           id="prep3" value="一般">
                                    <label class="form-check-label w-100" for="prep3">一般</label>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- 问题2 -->
                    <div class="question-group mb-4">
                        <h5 class="question-title">
                            2. 你认为授课内容与实际工作结合得怎么样？（选择一项打 ✓）
                        </h5>
                        <div class="row g-2">
                            <div class="col-6 col-md-3">
                                <div class="form-check option-card">
                                    <input class="form-check-input" type="radio" name="practical_relevance"
                                           id="prac1" value="非常好" checked>
                                    <label class="form-check-label w-100" for="prac1">非常好</label>
                                </div>
                            </div>
                            <div class="col-6 col-md-3">
                                <div class="form-check option-card">
                                    <input class="form-check-input" type="radio" name="practical_relevance"
                                           id="prac2" value="比较好">
                                    <label class="form-check-label w-100" for="prac2">比较好</label>
                                </div>
                            </div>
                            <div class="col-6 col-md-3">
                                <div class="form-check option-card">
                                    <input class="form-check-input" type="radio" name="practical_relevance"
                                           id="prac3" value="一般">
                                    <label class="form-check-label w-100" for="prac3">一般</label>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- 问题3 -->
                    <div class="question-group mb-4">
                        <h5 class="question-title">
                            3. 请你综合教学效果整体评价打分？（选择一项打 ✓）
                        </h5>
                        <div class="row g-2">
                            <div class="col-6 col-md-3">
                                <div class="form-check option-card score-card">
                                    <input class="form-check-input" type="radio" name="overall_score"
                                           id="score1" value="10" checked>
                                    <label class="form-check-label w-100" for="score1">
                                        <span class="score-number">10分</span>
                                        <div class="stars">★★★★★</div>
                                    </label>
                                </div>
                            </div>
                            <div class="col-6 col-md-3">
                                <div class="form-check option-card score-card">
                                    <input class="form-check-input" type="radio" name="overall_score"
                                           id="score2" value="9">
                                    <label class="form-check-label w-100" for="score2">
                                        <span class="score-number">9分</span>
                                        <div class="stars">★★★★☆</div>
                                    </label>
                                </div>
                            </div>
                            <div class="col-6 col-md-3">
                                <div class="form-check option-card score-card">
                                    <input class="form-check-input" type="radio" name="overall_score"
                                           id="score3" value="8">
                                    <label class="form-check-label w-100" for="score3">
                                        <span class="score-number">8分</span>
                                        <div class="stars">★★★★☆</div>
                                    </label>
                                </div>
                            </div>
                            <div class="col-6 col-md-3">
                                <div class="form-check option-card score-card">
                                    <input class="form-check-input" type="radio" name="overall_score"
                                           id="score4" value="7">
                                    <label class="form-check-label w-100" for="score4">
                                        <span class="score-number">7分</span>
                                        <div class="stars">★★★☆☆</div>
                                    </label>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- 问题4 -->
                    <div class="question-group mb-4">
                        <h5 class="question-title">
                            4. 你认为今后的专业技术课哪些方面还有待加强？（写出意见建议）
                        </h5>
                        <textarea class="form-control" name="suggestions" rows="4"
                                  placeholder="请写下您的宝贵意见和建议..."></textarea>
                    </div>

                    <div class="text-center">
                        <button type="submit" class="btn btn-success btn-lg px-5">
                            <i class="fas fa-paper-plane me-2"></i>
                            提交评价
                        </button>
                        <a href="{{ url_for('index') }}" class="btn btn-outline-secondary btn-lg px-4 ms-3">
                            <i class="fas fa-arrow-left me-2"></i>
                            返回
                        </a>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>
{% endblock %}
